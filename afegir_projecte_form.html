<!DOCTYPE html>
<html lang="es">
	<head>
	    <meta charset="utf-8">
	    <title>PES - Add Project</title>
	    <meta name="description" content="">
	    <meta name="author" content="Grup 2">

	    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	    <!--[if lt IE 9]>
	      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	    <![endif]-->

	    <!-- Styles -->
	    <link href="css/bootstrap.css" rel="stylesheet">

	    <!-- Fav and touch icons -->
	    
	    <!-- incloure l'arxiu de utils javascript -->
	    <script src="js/utils.js"></script>

	    <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	    <script src="js/bootstrap-alert.js"></script>
	    <script src="js/bootstrap.js"></script>
	</head>

	<body>

		<nav class="navbar">
			
		</nav>

		<section class="container">
			<section class="center span8">
				<h1>Afegir un projecte</h1>
				<br>
				<br>
				<form class="well form-vertical">
					<label>Nom</label>
					<input type="text" class="span3" placeholder="Escriu un nom pel projecte">
					<span class="help-inline">Només caràcters alfanumèrics permesos!</span>
					
					<label>Versió</label>
					<input type="text" class="span3" placeholder="Versió inicial">
					<span class="help-inline">Només caràcters alfanumèrics permesos!</span>

					<label>Descripció</label>
					<textarea class="input-xxlarge" id="textarea" rows="3" placeholder="Escriu una descripció detallada del projecte"></textarea>
					<span class="help-inline">Només caràcters alfanumèrics permesos!</span>
					
					<br>
					<br>
					<div id="milestones">
						<h4>Fites</h4>
						<div id="milestone-1">
							<br>
							<label>Numero</label>
							<input type="number" class="span3" placeholder="Entra un nombre per a la fita">
							<span class="help-inline">Només caràcters numèrics permesos!</span>

							<label>Import</label>
							<input type="number" class="import span3" placeholder="Entra un import per a la fita">
							<span class="help-inline">Només caràcters numèrics permesos!</span>
							
							<label>Descripció</label>
							<textarea class="input-xxlarge" id="textarea" rows="3" placeholder="Escriu una descripció detallada de la fita"></textarea>
							<span class="help-inline">Només caràcters alfanumèrics permesos!</span>
							<br>
							<br>
							<a class="btn btn-danger remove_milestone" href="#" onclick="remove_milestone('milestone-1'); return false;"><i class="icon-trash icon-white"></i> Remove this milestone</a>
							<br>
						</div>
					</div>
					<br>
					<br>
					<a id="add_milestone" class="btn btn-warning" href="#"><i class="icon-plus icon-white"></i> Afegir fita</a>
					<br>
					<br>

					<div class="actions">
						<button type="submit" class="btn btn-success">Envia</button>
						<button type="reset" value="Reset" class="btn">Reset</button>
					</div>
				</form>
			</section>
		</section>
		<a onclick="refresh_counter(); return false;">miau</a>
		<p id="counter">lalalal</p>
	</body>
<script>
		indice = 1;

		function remove_milestone(id) {
			$(id).remove();
		}

		function refresh_counter() {
			var sum = 0;
			$(".import").each(function() {
				//alert( !isNaN($(this).val()));
				if( (!isNaN( $(this).val() ) ) && ( $(this).val() != null ) && ( $(this).val() != "" ) ) sum += parseInt($(this).val());
			});
			$("#counter").html(sum);
		}

		$("#add_milestone").click(function(event){
			indice += 1;
			event.preventDefault();
			$("#milestones").append('<div id="milestone-'+indice+'"><br><label>Numero</label><input type="number" class="span3" placeholder="Entra un nombre per a la fita"><span class="help-inline">Només caràcters numèrics permesos!</span><label>Import</label><input type="number" class="import span3" placeholder="Entra un import per a la fita"><span class="help-inline">Només caràcters numèrics permesos!</span><label>Descripció</label><textarea class="input-xxlarge" id="textarea" rows="3" placeholder="Escriu una descripció detallada de la fita"></textarea><span class="help-inline">Només caràcters alfanumèrics permesos!</span><br><br><a class="btn btn-danger remove_milestone" href="#" onclick="remove_milestone("milestone-'+indice+'"); return false;"><i class="icon-trash icon-white"></i> Remove this milestone</a><br></div>');
			refresh_counter();
		});

		$(document).ready(function(){
			inserta_head_contractant();
		});
		
	
</script>
</html>